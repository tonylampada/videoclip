def clip_encode_image(image: str) -> str:
  """uses the Roboflow CLIP encoding endpoint to transform an image into a CLIP vector

    Args:
      image: string describing file path to image

    Returns:
      clip encoded image vector as a string
    """

  # base64 encode the image for travel
  with open(image, "rb") as image_file:
      encoded_string = base64.b64encode(image_file.read())

  # The request body should contain a JSON object formatted as {"image":"YOUR_BASE64_ENCODED_IMG_STRING"}
  payload = {'image': encoded_string.decode("utf-8")}
  url = "https://clip-featurize-esrwrrt7ma-uc.a.run.app/predict"

  # get response from CLIP endpoint
  response = requests.post(url, json = payload).content

  # return CLIP encoded vector from response
  return json.loads(response)['encoded_image']

result = clip_encode_image(image="test.png")
print(result)

# [-7.09709823e-02 -3.59034956e-01  4.92661931e-02 -3.12397957e-01
#   1.56713784e-01 -4.91475835e-02  1.50207281e-01  3.62491488e-01
#  -3.09925899e-03  1.73617810e-01 -9.09973234e-02 -2.72468656e-01
#  -6.06211871e-02  3.05408001e-01 -2.48392001e-01 -3.24989796e-01
#  -3.88610512e-01  2.00561717e-01 -1.20527491e-01  3.80200595e-01
#  -1.73854426e-01 -1.86684832e-01 -2.15257734e-01  8.76109302e-02
#   4.93773557e-02  1.44116059e-01  1.67865559e-01  3.37675214e-01
#   3.40103246e-02 -3.81512195e-01 -1.81485817e-01 -5.96252859e-01
#  -2.62477666e-01  2.39762589e-01 -5.44509649e-01 -4.02560979e-02
#  -3.14878494e-01  8.48270133e-02 -3.07444096e-01 -9.47117388e-01
#  -3.22333515e-01  3.33710425e-02 -1.13575123e-01 -1.92079261e-01
#   1.03558965e-01 -1.46299434e+00  1.11160612e+00 -3.97438556e-01
#  -4.34929192e-01  5.76930106e-01  1.20557949e-01  1.71482563e-01
#  -2.22961128e-01 -4.57211465e-01  1.09932423e-01 -1.53021514e-03
#  -3.04392368e-01  2.82527983e-01 -1.71519369e-01 -8.32763910e-02
#   4.25526857e-01  9.87544097e-03  7.60556683e-02  3.63978088e-01
#  -4.11010571e-02  1.87701598e-01  2.70557165e-01  7.41471589e-01
#  -2.20892891e-01  2.76241861e-02 -3.67896080e-01 -1.89640358e-01
#  -5.29743791e-01 -5.05976677e-01 -9.36169326e-02 -4.86044019e-01
#  -1.40204355e-01 -1.94227800e-01  1.07242502e-02 -6.77160740e-01
#   7.91949481e-02 -7.63287023e-02 -3.28682274e-01 -7.89596915e-01
#  -1.32949967e-02  3.20843995e-01  1.20824564e+00  1.70872286e-01
#   4.25790608e-01 -4.15721871e-02  2.03663915e-01 -3.97169888e-02
#  -7.12559748e+00 -3.49556804e-01 -5.59324980e-01  6.81609511e-02
#   3.21011573e-01 -3.57405782e-01 -7.38803297e-02  7.71790624e-01
#   3.12275708e-01  9.92004126e-02  8.05840641e-02  3.20276767e-01
#  -1.31386116e-01  6.71499595e-03 -3.33831811e+00  7.50039592e-02
#  -2.60816455e-01 -1.23676002e-01 -1.07191563e-01 -2.61558235e-01
#  -5.02422564e-02  1.10940799e-01  1.01328209e-01  1.74022987e-02
#   3.45224500e-01 -1.02645112e-02  1.92407921e-01  2.61883378e-01
#   3.96400690e-01 -5.29873133e-01  1.41083628e-01  1.38419569e-01
#  -9.81589630e-02  2.98891008e-01 -5.04992204e-03  5.81328794e-02
#   1.69239566e-01 -3.09615321e-02  4.62510884e-01 -2.74686724e-01
#   1.04876615e-01  9.73628879e-01 -3.53819221e-01 -8.40502884e-03
#  -8.41095299e-02 -6.16839230e-01  5.02978005e-02 -4.28508073e-01
#  -3.03569764e-01 -1.83053195e-01 -4.52416055e-02 -3.19919497e-01
#  -4.16564077e-01 -6.21114850e-01 -6.34012640e-01 -2.03174546e-01
#   2.49533221e-01 -1.31961465e-01 -3.88571806e-03 -2.27822170e-01
#  -1.08316076e+00 -3.39743227e-01  6.18306100e-01 -3.39458168e-01
#  -6.95678499e-03 -9.63421315e-02  6.24626398e-01  3.99180263e-01
#  -1.51240721e-01  6.99559227e-02  3.90836656e-01 -7.40318466e-03
#   2.47050017e-01  3.64423096e-02 -3.42293859e-01 -3.11835825e-01
#  -3.42295095e-02 -3.83057773e-01 -1.49495408e-01 -3.31015348e-01
#   1.25169277e-01  6.82111233e-02 -4.21230853e-01  4.70050454e-01
#  -7.19891250e-01 -2.64873445e-01  1.62357450e-01 -2.29210958e-01
#  -4.49608043e-02 -1.15653373e-01 -2.05113858e-01  2.01482758e-01
#  -1.47648558e-01  3.50158960e-01  3.64991695e-01  3.16029042e-02
#   3.10094267e-01  2.92946517e-01  2.57309198e-01  1.86084315e-01
#  -9.85354837e-03  9.30151641e-02 -2.65705794e-01 -8.57737884e-02
#  -5.01531303e-01  4.44281921e-02 -5.60155213e-01  2.76603401e-01
#  -3.72656792e-01 -3.53524923e-01 -1.44269973e-01  9.21799317e-02
#  -1.25130892e-01 -2.47621894e-01 -6.40184641e-01 -1.33218348e-01
#   9.34142061e-03  7.60032237e-02  7.86659345e-02  5.81512868e-01
#   2.80371696e-01 -1.78836986e-01 -1.76848695e-01 -1.18772633e-01
#   1.64208710e-02  9.45718810e-02 -4.44537848e-01  1.35712862e-01
#   4.52242494e-01 -2.64424205e-01  2.13560592e-02 -1.40388742e-01
#  -1.45751908e-01  1.20129004e-01  1.69595242e-01  5.01599908e-01
#  -3.14812571e-01  3.90343666e-01  4.88556735e-02 -2.11628959e-01
#   1.92851707e-01  2.80628949e-02  1.80666804e-01  9.55776274e-01
#  -4.96390879e-01 -1.01723067e-01 -8.79036412e-02  2.26557031e-01
#  -3.20577919e-01  2.63043970e-01  5.38339838e-02 -1.87299430e-01
#   1.27380509e-02  5.43403029e-01 -3.27023655e-01  5.10456800e-01
#   6.76146150e-02 -8.07619095e-02  1.74907982e-01 -2.43676156e-01
#   7.54610375e-02 -4.86593246e-02 -1.03548551e-02  7.78312087e-02
#   4.37628776e-02 -4.74449694e-01 -5.17183661e-01  1.24907397e-01
#  -3.15754026e-01  9.33574140e-02  3.78831923e-01  5.76778725e-02
#  -1.36636034e-01  9.69851390e-02  1.97427571e-01 -3.86298835e-01
#  -1.07916281e-01  2.23258853e-01  9.65104699e-02  5.55230737e-01
#   2.43209347e-01  1.48169428e-01 -4.02580529e-01 -2.72983849e-01
#  -3.63172293e-01  2.12214753e-01 -9.70618874e-02 -3.49340886e-02
#   1.51134595e-01 -2.47098684e-01 -1.38756350e-01  2.88450032e-01
#  -3.05678323e-03  2.83049196e-01  3.98449332e-01 -4.20145780e-01
#   4.76959981e-02  4.56123263e-01 -2.27547158e-02 -2.89020330e-01
#  -3.31758037e-02 -1.39355838e-01  3.09299231e-01  1.77485973e-01
#  -3.56749207e-01 -1.58110186e-01  3.16189617e-01 -3.28246593e-01
#   7.95420725e-03 -2.30750889e-01 -3.92693192e-01  4.86067757e-02
#  -3.02293122e-01 -4.61750984e-01 -4.72373188e-01  4.05293971e-01
#   3.18421036e-01  7.10748434e-02 -8.64295304e-01 -1.54480100e-01
#   9.73435223e-01 -4.30633932e-01  6.57759607e-02 -1.40692011e-01
#  -2.41357721e-02 -2.31290653e-01 -6.40454590e-02 -7.04029649e-02
#   2.59069473e-01  1.56595314e+00  2.45739132e-01  2.98214674e-01
#  -1.20084353e-01 -3.01787555e-01 -2.96667010e-01 -1.25555590e-01
#   1.50204957e-01  1.46593317e-01 -2.03571409e-01 -1.61775425e-01
#   7.65064538e-01 -7.07884908e-01 -3.55358571e-01 -2.40395471e-01
#   1.48680896e-01  2.04079241e-01  8.34288225e-02  5.41461110e-01
#   1.18976690e-01 -9.37438682e-02  4.10605460e-01  1.90739721e-01
#   1.17834836e-01  7.28787035e-02 -4.02883105e-02 -1.49931148e-01
#  -6.12379052e-04  7.74798274e-01 -8.35867226e-02 -6.98530860e-03
#  -5.48139885e-02  3.29370707e-01 -7.28139222e-01 -4.06875134e-01
#  -1.04195103e-01  7.33675361e-01 -1.97679996e-02 -4.98058379e-01
#  -1.13551128e+00  1.30122274e-01  1.00066215e-01  3.48963350e-01
#  -1.74921602e-01 -7.82685056e-02 -5.97476184e-01 -1.51241815e+00
#  -2.64664173e-01  1.36602685e-01 -3.06017965e-01 -1.84708089e-01
#  -3.74101587e-02 -2.01829746e-01  6.03952587e-01 -4.17544991e-01
#   5.11603236e-01  7.80052096e-02 -9.98539627e-01  4.19967800e-01
#  -1.14405900e-01 -2.02607617e-01 -2.56170295e-02  7.04679489e-02
#   1.63194478e-01 -4.76850659e-01  3.02866161e-01  9.59674492e-02
#   1.85721591e-02 -9.30020571e-01 -7.54700363e-01 -1.86359763e-01
#   3.73819843e-03 -2.99199760e-01  1.19186729e-01  7.13439435e-02
#  -9.73064005e-02 -4.56583686e-02 -8.24409723e-01 -3.78424019e-01
#   9.93556008e-02  1.60871506e-01  6.84582412e-01 -3.40429902e-01
#  -1.25219211e-01  3.44759598e-02 -2.91820675e-01  3.63305151e-01
#   1.96983546e-01 -1.90192685e-01  2.37500012e-01  6.02146804e-01
#  -2.66340226e-01  7.60771185e-02 -3.08738858e-01  2.35669613e-01
#  -9.66442749e-02  2.40927726e-01  1.98007628e-01 -3.79216731e-01
#   1.38771772e-01 -2.41957694e-01 -1.37382254e-01  4.83508334e-02
#   1.97551429e-01  6.68884814e-02 -1.04536265e-01 -4.64327306e-01
#  -1.74656048e-01 -3.90391082e-01 -4.90553051e-01  1.36278674e-01
#  -1.03000987e+00 -6.40872717e-01  3.10424328e-01  2.02705294e-01
#  -2.58309752e-01 -1.00233816e-01 -1.28284842e-03 -3.92054841e-02
#   1.66548967e-01 -3.55392575e-01 -3.67860317e-01  8.33609477e-02
#  -8.47666636e-02 -2.72648871e-01 -9.67443436e-02  3.86566669e-02
#  -1.12177648e-01  1.22581430e-01 -4.50629175e-01  1.97893426e-01
#  -1.99482217e-01 -9.48319852e-01  1.36992425e-01 -1.83596566e-01
#   2.84932792e-01 -1.92475580e-02 -1.64645106e-01  1.25542611e-01
#  -1.14496589e-01  8.61754343e-02  3.60020809e-03 -3.95132601e-01
#  -6.39674217e-02  3.25074136e-01  1.69144124e-01  1.25991985e-01
#  -3.53608638e-01  1.42875224e-01  1.40964076e-01  1.52607173e-01
#  -1.00254454e-01 -2.05216870e-01 -2.54290514e-02 -5.07001579e-03
#   1.01630889e-01  7.00646877e-01 -2.22168699e-01 -2.93445792e-02
#  -4.03885990e-02  4.56220210e-02 -5.36505580e-02 -1.44933403e-01
#  -2.71673918e-01  4.62118596e-01  4.22761023e-01 -6.26103431e-02
#  -3.31031680e-01 -1.64500892e-01 -1.70965865e-01 -1.89656809e-01
#   7.32465833e-02 -1.13837523e-02  2.89360452e-02  7.49026909e-02
#  -3.46484452e-01 -2.60694116e-01 -3.74649644e-01 -2.69368649e-01
#  -2.23413259e-01 -2.19103590e-01  8.76486953e-03 -7.77205825e-02
#   2.41125017e-01 -1.57827497e-01  5.32639548e-02  2.61270851e-01
#   4.99940276e-01  7.69481897e-01  1.37662336e-01 -1.60249352e-01]
